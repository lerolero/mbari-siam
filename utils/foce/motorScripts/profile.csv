# Profiles have the following format:
# <profileName>,<portMmenonic>,(<portProfile>)[,< portMmenonic >,(<portProfile>)...],(<intervalProfile>)
# where
# name: profile name (string)
# portMmenonic: mnemonic for a SIAM  port 
# Valid portMnemoic values are 
#    FWD: forward thruster
#    AFT: aft thruster
#    ESW: ESW pump
#   FVAL: forward valve
#   AVAL: aft valve
#
# portProfile: space-separated speed values for the motor on < portMmenonic > (rpm)
# intervalProfile: space separated time interval values, applied modulo <number of profile values>
# 
# Examples (FWD=/dev/ttyS8, AFT=/dev/ttyS10, ESW=ESWpump
# foo,FWD,( -15 -20  -30 ),AFT,(  15  20  35 ),( 60 3540 )
#
# Profile name: "foo"
# runs as follows:
# /dev/ttyS8 @ -15 rpm, /dev/ttyS10 @ 15 rpm for 60 sec
# /dev/ttyS8 @ -20 rpm, /dev/ttyS10 @ 20 rpm for 3540 sec
# /dev/ttyS8 @ -30 rpm, /dev/ttyS10 @ 35 rpm for 60 sec (i.e., applied modulo 3)
# 
# baz,ESW,( -15 -25  -30 ),AFT,(  15  20  40 ),( 90 )
#
# Profile name: "baz"
# runs as follows:
# ESWpump @ -15 rpm, /dev/ttyS10 @ 15 rpm for 90 sec
# ESWpump @ -25 rpm, /dev/ttyS10 @ 20 rpm for 90 sec
# ESWpump @ -30 rpm, /dev/ttyS10 @ 40 rpm for 90 sec (i.e., applied modulo 3)
# 

# stop 'em all...
# (uses new capability to mix and match ports in a single test)
kill0,FVAL,( open ),AVAL,( open ),ESW,( 0 ),FWD,( 0 ),AFT,( 0 ),( 30 )

# kill motors
# (uses new capability to mix and match ports in a single test)
killMotors,FWD,( 0 ),AFT,( 0 ),ESW,( 0 ),( 1 )


# run 'em all...fast and furious
# (uses new capability to mix and match ports in a single test)
multi0,FVAL,( open open close open open open close open ),AVAL,( close open open open close open open open ),ESW,( 0 0 100 0 100 0 100 0 ),FWD,( 0 0 50 0 -50 0 50 0 ),AFT,( 0 0 -50 0 50 0 -50 0 ),( 180 10 180 10 180 10 180 10 )

# like multi0, but separate thrusters/valves+pump
eswpv0,FVAL,( open open close open open open close open ),AVAL,( close open open open close open open open ),ESW,( 0 0 100 0 100 0 100 0 ),( 120 10 120 10 120 10 120 10 )

thruster0,FWD,( 0 0 50 0 -50 0 50 0 ),AFT,( 0 0 -50 0 50 0 -50 0 ),( 120 10 120 10 120 10 120 10 )

# run each thruster alone at moderate speed in exhaust direction (+) to
# see if it smooths current measurements 
thruster1,FWD,( 0 30 0 0 ),AFT,( 0 0 0 30 ),( 30 21600 30 21600 )

# ramp each thruster to high speed and run total cycle 
# of 3 hr
thruster2,FWD,( 0 30 35 38 40 0 -30 -35 -38 -40 ),AFT,( 0 -30 -35 -38 -40  0 30 35 38 40 ),( 30 30 30 30 10680 30 30 30 30 10680 )

# ramp each thruster to high speed and run total cycle 
# of 3 hr
thruster3,FWD,( 0 30 0 -30 ),AFT,( 0 -30 0 30 ),( 120 10680 120 10680 )

# looking for harmonics by stepping thru a range of speeds in small increments 
harmonic0,FWD,( 0 16 18 20 22 24 26 28 30 32 34 36 38 40 42 44 ),AFT,( 0 -16 -18 -20 -22 -24 -26 -28 -30 -32 -34 -36 -38 -40 -42 -44 ),( 1200 1200 1200 1200 1200 1200 1200 1200 1200 1200 1200 1200 1200 1200 1200 1200 )

# periodic valve cycle
# 900 s/setting, 10s between cycles for switching
eswv0,FVAL,( open open close open ),AVAL,( close open open open ),( 900 10 900 10 )
  
# monotonic, cycle
# 50-250/50
# 900 s/setting
esw1,ESW,( 0 50 100 150 200 250 200 150 100 50 ),( 900 )

# ESW stuck, kick it
# 100
# 10 s/setting
esw2,ESW,( 0 50 75 100 150 200 300 ),(5 10 10 10 10 10 10 )

# monotonic, cycle, no stop
# 50-200/50
# 1800 s/setting
esw3,ESW,( 50 100 150 200 150 100 ),( 1800 )

# monotonic, symmetric
# +/-, -/+
# 15-25
# 3600 s/setting
s1,FWD,(  15  25  35  45  35  25  15 -15 -25 -35 -45 -35 -25 -15 ),AFT,( -15 -25 -35 -45 -35 -25 -15  15  25  35  45  35  25  15 ),( 3600 )

# monotonic, symmetric
# +/0, 0/+
# 0-45
# 900 s/setting
s2,FWD,( 15 25 35 45 35 25 15 -15 -25 -35 -45 -35 -25 -15 0  0  0  0  0  0  0  0   0   0   0   0   0   0   0),AFT,( 0  0  0  0  0  0  0  0   0   0   0   0   0   0   15 25 35 45 35 25 15 -15 -25 -35 -45 -35 -25 -15 0),( 900 )

# monotonic, symmetric
# +/0, 0/+
# 0-45
# 900 s/setting
s3,FWD,( 0  15  25  35  45  35  25  15 0 -15 -25 -35 -45 -35 -25 -15 ),AFT,( 0 -15 -25 -35 -45 -35 -25 -15 0  15  25  35  45  35  25  15 ),( 900 )

# monotonic, symmetric
# +/-, -/+
# 0-55
# 900 s/setting
s4,FWD,( 0  15  25  35  45  55  45  35  25  15 0 -15 -25 -35 -45 -55 -45 -35 -25 -15 ),AFT,( 0 -15 -25 -35 -45 -55 -45 -35 -25 -15 0  15  25  35  45  55  45  35  25  15 ),( 900 )

# monotonic, symmetric
# +/-, -/+
# 15-35
# 900 s/setting
s5,FWD,( 15 20 25 30 35 30 25 20 15 0 -15 -20 -25 -30 -35 -30 -25 -20 -15 0 ),AFT,( -15 -20 -25 -30 -35 -30 -25 -20 -15 0 15 20 25 30 35 30 25 20 15 0 ),( 900 )

# monotonic, symmetric
# +/-, -/+
# 20-40 (long cycle steps with extra refresh in case one fails)
# 900 s/setting
s6,FWD,( 20 20 30 30 40 30 30 20 20 0 -20 -20 -30 -30 -40 -30 -30 -20 -20 0 ),AFT,( -20 -20 -30 -30 -40 -30 -30 -20 -20 0 20 20 30 30 40 30 30 20 20 0 ),( 900 )

# monotonic, symmetric
# +/-, -/+
# 20-30 (long cycle steps with extra refresh in case one fails)
# 900 s/setting
s7,FWD,( 20 25 30 30 30 30 30 25 20 0 -20 -25 -30 -30 -30 -30 -30 -25 -20 0 ),AFT,( -20 -25 -30 -30 -30 -30 -30 -25 -20 0 20 25 30 30 30 30 30 25 20 0 ),( 900 )

# monotonic, symmetric
# +, -
# 20-30 (long cycle steps with extra refresh in case one fails)
# 900 s/setting
s8,FWD,( 20 25 30 30 30 30 30 25 ),AFT,( -20 -25 -30 -30 -30 -30 -30 -25 ),( 900 )

# monotonic, symmetric
# -, +
# 20-30 (long cycle steps with extra refresh in case one fails)
# 900 s/setting
s9,FWD,( -20 -25 -30 -30 -30 -30 -30 -25 ),AFT,( 20 25 30 30 30 30 30 25 ),( 900 )

# Big power test
# each profile is 15 min at a given speed
# these may be combined by powerTest.mc
# to perform an 11 day power test
mt0,FWD,( 0 ),AFT,( 0 ),( 900 )
mt15,FWD,( 15 ),AFT,( -15 ),( 900 )
mt20,FWD,( 20 ),AFT,( -20 ),( 900 )
mt25,FWD,( 25 ),AFT,( -25 ),( 900 )
mt30,FWD,( 30 ),AFT,( -30 ),( 900 )
mt35,FWD,( 35 ),AFT,( -35 ),( 900 )
mt40,FWD,( 40 ),AFT,( -40 ),( 900 )

 # DCOSS Conference demo
dcoss,FWD,(  15  25  35  45  35  25  15 0 ),AFT,( -15 -25 -35 -45 -35 -25 -15 0 ),( 140 )

 # Kick motors (gently) once an hour
kick,FWD,( -15 -20  ),AFT,(  15  20  ),( 60 3540 )

 # Kick motors (a little harder) once an hour
kick2,FWD,( -15 -20 -25 ),AFT,(  15  20  25 ),( 60 60 3480 )

 # Kick motors (aw, go on, give a boot) once an hour
kick3,FWD,( -15 -20 -25 -30 -35 ),AFT,(  15  20  25  30 35 ),( 60 60 60 60 3360 )
