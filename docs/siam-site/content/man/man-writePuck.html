<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>writePuck Manual Page</title>
		<link href="../../css/content.css" rel="stylesheet" type="text/css" />
		<link href="../../css/manpage.css" rel="stylesheet" type="text/css" />
		</head>
	
	<body>
		
		<div class="nameHeader">
			<h1>Name</h1> 
			<div class="nameText">
				<h2>writePuck <!-- name text here --></h2>
				</div>
			</div>
		
		<div class="synopsisHeader">
			<h1>Synopsis</h1>
			<div class="synopsisText">
				<div class="commands">writePuck <em class="options">[-b baudHint] [-t triesPerBaud] port</em></div>
				</div>
			</div>
		
		<div class="descriptionHeader">
			<h1>Description</h1>
			<div class="descriptionText">
				<p>
				<!-- description text here -->
				The writePuck utility is used to store payloads (for example, service code and metadata) 
				to PUCK memory.<br />
				If the -id option is specified only an instrument ID will be written to the 
				puck.	
				</p>
				
				<h2>Options</h2>
				<table class="altTable">
					<tr>
						<th>Option</th>
						<th>Description</th>
						<th>Values</th>
						</tr>
					<tr>
						<td>-b baudHint</td>
						<td>Suggested baud rate will be tried first to save time. By default, the utility will try at different baud rates.</td>
						<td>300, 2400, 4800, 9600, 19200, 38400, 57600, 115200</td>
						</tr>
					<tr class="alt">
						<td>-t triesPerBaud</td>
						<td>Number of retries at each communication rate when trying to establish communication with the PUCK interface</td>
						<td>-</td>
						</tr>
					<tr>
						<td>-erase</td>
						<td></td>
						<td>-</td>
						</tr>
					<tr class="alt">
						<td>-id</td>
						<td>If the -id option is specified only an instrument ID will be written to the 
							puck.  The SIAM application will attempt to look for the service code and 
							metadata locally if they are not located in the puck.</td>
						<td>-</td>
						</tr>
					<tr>
						<td>port</td>
						<td>Communications port to use for the PUCK connection.</td>
						<td>COM1, /dev/tty.KeySerial1, /dev/ttyS0</td>
						</tr>
					<tr class="alt">
						<td>type</td>
						<td>String identifying the PUCK payload being written. Host systems will use this identifier to retrieve the payload. 
							It may contain alpha-numeric characters. If multiple payloads will be stored in the PUCK memory, each type string must be unique.
							</td>
						<td>&quot;MBARI_SIAM&quot;, &quot;ESONET.SensorML&quot;, &quot;MBARI.FOCE&quot;</td>
						</tr>
					<tr>
						<td>file</td>
						<td>The payload data to store in PUCK memory. It may be in virtually any format, as long as it doesn't exceed the available PUCK memory (which may vary from device to device).</td>
						<td>myCTD.xml, myBundle.jar, manyThings.tar.gz, myCals.csv, etc.</td>
						</tr>
					<!--
					 <tr>
					 <td></td>
					 <td></td>
					 <td>-</td>
					 </tr>
					 <tr class="alt">
					 <td></td>
					 <td></td>
					 <td>-</td>
					 </tr>
					 -->
					</table>
				<p>
				Example output:</p>
				<pre>
					writePuck /dev/tty.KeySerial1 myPayloadType myContent
					Experimental:  JNI_OnLoad called.
					Stable Library
					=========================================
					Native lib Version = RXTX-2.1-7
					Java lib Version   = RXTX-2.1-7
					RXTX Warning:  Removing stale lock file. /var/lock/LK.006.010.012
					Assuming PUCK v1.3 protocol
					
					0 INFO   Puck_1_3 [main]: Found PUCK mode at 115200 baud
					PUCK payload capacity=1081086 bytes
					Writing autoTest.cfg, type=myPayloadType
					Write tag: &lt;puck_payload type=myPayloadType name=myContent size=4350 md5=6f15ab8149cc7ff3e20bf1dc35045eea next_addr=-1 /&gt;
					
					Writing file &quot;myContent&quot; to puck
					
					.....
					
					close the serial port
					done
					</pre>
				<p></p>
				</div>
			</div>
		
		<div class="environmentHeader">
			<h1>Environment</h1>
			<div class="environmentText">
				<p>
				<!-- description text here -->
				The following environment variables must be set:
				</p>	 
						<table class="altTable">
							<tr>
								<th>Variable</th>
								<th>Description</th>
								<th>Example</th>
								</tr>
							<tr>
								<td>JAVA_HOME </td>
								<td>location of Java installation</td>
								<td><div class="path"> /j9, /opt/java/jdk1.3.1, etc.</div></td>
								</tr>
							<tr class="alt">
								<td>JAVA</td>
								<td>Path to JVM command</td>
								<td>For MMC<div class="commands">$JAVA_HOME/bin/j9</div><br />For Sun JVM (e.g. linux, win32, mac OS) <div class="commands">$JAVA_HOME/bin/java</div>
									</td>
								</tr>
							<tr>
								<td>SIAM_HOME</td>
								<td>top of the SIAM directory tree</td>
								<td>-</td>
								</tr>
							<tr class="alt">
								<td>SIAM_CLASSPATH</td>
								<td>Path including all SIAM and supporting classes</td>
								<td>For MMC<div class="path">$JAVA_HOME/lib/jclMax/classes.zip:$JAVA_HOME/lib/prsnlmot.jar:$JAVA_HOME/lib/RXTXcomm.jar:$SIAM_HOME/classes</div><br />
									For linux/win32<div class="path"> $SIAM_HOME/classes</div></td>
								</tr>
							<!--
							 <tr>
							 <td></td>
							 <td></td>
							 <td>-</td>
							 </tr>
							 <tr class="alt">
							 <td></td>
							 <td></td>
							 <td>-</td>
							 </tr>
							 -->
							</table>
						<p></p>
						</div>
			</div>
		
		<div class="seeAlsoHeader">
			<h1>See Also</h1>
			<div class="seeAlsoText">
				<div class="command">
					<a href="man-writePuck.html#" target="mainFrame">listPuck</a>, 
					<a href="man-dumpPuck.html#" target="mainFrame">dumpPuck</a>, 
					<a href="man-readDatasheet.html#" target="mainFrame">readDatasheet</a>, 
					<a href="man-writeDatasheet.html#" target="mainFrame">writeDatasheet</a>, 
					<a href="man-extractPuck.html#" target="mainFrame">extractPuck</a>, 
					<a href="man-erasePuck.html#" target="mainFrame">erasePuck</a>
					</div>
				</div>
			</div>
		
		
		</body>
	</html>
