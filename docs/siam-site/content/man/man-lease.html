<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>lease Manual Page</title>
		<link href="../../css/content.css" rel="stylesheet" type="text/css" />
		<link href="../../css/manpage.css" rel="stylesheet" type="text/css" />
		</head>
	
	<body>
		
		<div class="nameHeader">
			<h1>Name</h1> 
			<div class="nameText">
				<h2>lease <!-- name text here --></h2>
				</div>
			</div>
		
		<div class="synopsisHeader">
			<h1>Synopsis</h1>
			<div class="synopsisText">
				<div class="commands">lease <em class="options">[-establish durationSec [-aux]] [-renew leaseID [-aux]] [-terminate leaseID [-aux]] nodeURL</em></div>
				</div>
			</div>
		
		<div class="descriptionHeader">
			<h1>Description</h1>
			<div class="descriptionText">
				<p>
				<!-- description text here -->
				The lease  utility establishes and manages comms
				leases on the node's communications link. When a lease is extablished,
				the CPU is not allowed to sleep and the wireless network connections will be 
				maintained for a specified duration (specified in seconds). 
				</p>
				<p>
				Any number of leases may be taken out by people, programs, etc. at any given time. As long as any
				lease is still valid, the communications link will stay active and the
				CPU will remain awake. When the time that you specified for your
				lease has elapsed, the lease
				expires unless it is renewed.
				If there are no other active leases, the communications link will
				then be allowed to go down and the CPU may sleep (if enabled to do so).
				</p>
				<p>
				When a lease is established, lease returns a lease ID which may be used in subsequent transactions for that lease.
				Once established, a lease may be renewed or terminated using subsequent calls to lease with the appropriate options and lease ID.
				</p>
				<p>
				Parameters can be in almost any order. The only constraint is that for &quot;-renew&quot;, leaseID must occur before time.<br />
				When a lease is established on a SIAM subnode, another lease is
				automatically established on the surface node as well, to ensure that
				the wireless link stays connected for at least as long as the original
				lease is in effect. 
				</p>
				<p></p>
				<div class="emphasis">Cautions</div>
				Be careful about taking out long leases: While a lease is active, the system is awake and consuming power (including the telemetry link); also telemetry will not be downloaded until the next comms lease is established.
				
				<p></p>	 
				
				<h2>Options</h2>
				<table class="altTable">
					<tr>
						<th>Option</th>
						<th>Description</th>
						<th>Values</th>
						</tr>
					<tr>
						<td>nodeURL</td>
						<td>IP address or host name of SIAM node</td>
						<td>e.g. 134.89.88.1, mooring.moos.mbari.org</td>
						</tr>
					<tr class="alt">
						<td>-establish durationSec</td>
						<td>Establish a communications lease for durationSec seconds</td>
						<td>default is 600 sec</td>
						</tr>
					<tr>
						<td>-renew leaseID durationSec</td>
						<td>Renew an existing lease for durationSec seconds</td>
						<td>-</td>
						</tr>
					
					<tr  class="alt">
						<td>-terminate leaseID</td>
						<td>Terminate the specified lease</td>
						<td>-</td>
						</tr>
					<tr>
						<td>-aux</td>
						<td>Use auxilliary shore link (e.g., redundant globalstar)</td>
						<td>-</td>
						</tr>
					<!--
					 <tr>
					 <td></td>
					 <td></td>
					 <td>-</td>
					 </tr>
					 <tr class="alt">
					 <td></td>
					 <td></td>
					 <td>-</td>
					 </tr>
					 -->
					</table>
				<p>
				Example output:</p>
				<pre>
					none
					</pre>
				<p></p>
				</div>
			</div>
		
		<div class="environmentHeader">
			<h1>Environment</h1>
			<div class="environmentText">
				<p>
				<!-- description text here -->
				The following environment variables must be set:
				</p>	 
						<table class="altTable">
							<tr>
								<th>Variable</th>
								<th>Description</th>
								<th>Example</th>
								</tr>
							<tr>
								<td>JAVA_HOME </td>
								<td>location of Java installation</td>
								<td><div class="path"> /j9, /opt/java/jdk1.3.1, etc.</div></td>
								</tr>
							<tr class="alt">
								<td>JAVA</td>
								<td>Path to JVM command</td>
								<td>For MMC<div class="commands">$JAVA_HOME/bin/j9</div><br />For Sun JVM (e.g. linux, win32, mac OS) <div class="commands">$JAVA_HOME/bin/java</div>
									</td>
								</tr>
							<tr>
								<td>SIAM_HOME</td>
								<td>top of the SIAM directory tree</td>
								<td>-</td>
								</tr>
							<tr class="alt">
								<td>SIAM_CLASSPATH</td>
								<td>Path including all SIAM and supporting classes</td>
								<td>For MMC<div class="path">$JAVA_HOME/lib/jclMax/classes.zip:$JAVA_HOME/lib/prsnlmot.jar:$JAVA_HOME/lib/RXTXcomm.jar:$SIAM_HOME/classes</div><br />
									For linux/win32<div class="path"> $SIAM_HOME/classes</div></td>
								</tr>
							<!--
							 <tr>
							 <td></td>
							 <td></td>
							 <td>-</td>
							 </tr>
							 <tr class="alt">
							 <td></td>
							 <td></td>
							 <td>-</td>
							 </tr>
							 -->
							</table>
						<p></p>
						</div>
			</div>
		
		<div class="seeAlsoHeader">
			<h1>See Also</h1>
			<div class="seeAlsoText">
				<div class="command"><a href="man-getLeases.html#" target="mainFrame">getLeases</a></div>
				</div>
			</div>
		
		
		</body>
	</html>
