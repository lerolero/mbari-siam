<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>getPackets Manual Page</title>
		<link href="../../css/content.css" rel="stylesheet" type="text/css" />
		<link href="../../css/manpage.css" rel="stylesheet" type="text/css" />
		</head>
	
	<body>
		
		<div class="nameHeader">
			<h1>Name</h1> 
			<div class="nameText">
				<h2>getPackets <!-- name text here --></h2>
				</div>
			</div>
		
		<div class="synopsisHeader">
			<h1>Synopsis</h1>
			<div class="synopsisText">
				<div class="commands">getPackets <em class="options">nodeURL [-between startTime endTime] [-default] [-types type(s)] [-skip subsampleInterval] [-timeout timeoutSec] [-maxbytes n] [-stale] [-nosave] deviceID</em></div>
				</div>
			</div>
		
		<div class="descriptionHeader">
			<h1>Description</h1>
			<div class="descriptionText">
				<p>
				<!-- description text here -->
				The getPackets utility retrieves packets from a specified instrument service, 
				subject to subsampling and filtering specified by options specified on the command
				line. Retrieved packets are written to a device log in the current directory. 
				</p><p>
				The device log consists of two files, one the .dat extension and one with .idx extension.
				The .dat file contains the data, and the .idx is an index to enable effient searches of the data file.
				</p><p>	 
				The file names use the format</p>
				<div class="path">&lt;deviceID&gt;_0.dat, &lt;deviceID&gt;_0.idx</div>
				<p>	 
				For example, the log for device 1473 consists of files 1473_0.dat and 1473_0.idx. If the log files for the 
				specified device already exist, getPackets will append to the log.
				</p><p>	 
				The logged packets can subsequently be displayed with the logView utility.
				</p>	 
				<h2>Options</h2>
				<table class="altTable">
					<tr>
						<th>Option</th>
						<th>Description</th>
						<th>Values</th>
						</tr>
					<tr>
						<td>deviceID</td>
						<td>IP address or host name of SIAM node</td>
						<td>e.g. 134.89.88.1, mooring.moos.mbari.org</td>
						</tr>
					<tr class="alt">
						<td>deviceID</td>
						<td><p>long (64-bit) integer uniquely identifying the instrument service</p>
							<div class="emphasis">filter utilities use deviceIDs instead of instrument ports to specify an instrument</div>
							</td>
						<td>14533,997,1003, etc.
							</td>
						</tr>
					<tr>
						<td>-between startTime endTime</td>
						<td>Request packets from within the specified time window. startTime and endTime are date/time strings using the format:
							<div class="commands">mm/dd/yyyy[Thh:mm[:ss]]</div>
							The time should be specified in UTC(?)
							</td>
						<td>04/01/2010, 03/15/2009T11:34</td>
						</tr>
					<tr class="alt">
						<td>-default</td>
						<td>Use instrument default filters</td>
						<td>-</td>
						</tr>
					<tr>
						<td>-types type(s)</td>
						<td>Specify filter packet types</td>
						<td>valid values are 'metadata', 'data', 'message', 'summary', or 'all'</td>
						</tr>
					<tr class="alt">
						<td>-skip subsampleInterval</td>
						<td>Specify filter interval (decimation modulus)</td>
						<td> <p>4: skip 4 samples (i.e., receive every 5th packet of the specified type(s))</p>
							<p>0: return all packets</p>
							<p>-1: skip all packets (return no packets)</p>
							</td>
						</tr>
					<tr>
						<td>-timeout timeoutSec</td>
						<td></td>
						<td>-</td>
						</tr>
					<tr class="alt">
						<td>-maxbytes n</td>
						<td>maximum bytes per packetset</td>
						<td>Aggregate packets into groups &lt; maxbytes in size. This number can reduce overhead when there are many small packets to transfer. 
							If this number is smaller than the smallest single packet, no data will be returned.</td>
						</tr>
					<tr>
						<td>-stale</td>
						<td>Include &quot;stale&quot; packets (packets older than the age specified by the dataShelfLifeHours property</td>
						<td>-</td>
						</tr>
					<tr class="alt">
						<td>-nosave</td>
						<td>Don't save retrieved packets</td>
						<td>-</td>
						</tr>
					<!--
					 <tr>
					 <td></td>
					 <td></td>
					 <td>-</td>
					 </tr>
					 <tr class="alt">
					 <td></td>
					 <td></td>
					 <td>-</td>
					 </tr>
					 -->
					</table>
				<p>
				Example output:</p>
				<pre>
					none
					</pre>
				<p></p>
				</div>
			</div>
		
		<div class="environmentHeader">
			<h1>Environment</h1>
			<div class="environmentText">
				<p>
				<!-- description text here -->
				The following environment variables must be set:
				</p>	 
						<table class="altTable">
							<tr>
								<th>Variable</th>
								<th>Description</th>
								<th>Example</th>
								</tr>
							<tr>
								<td>JAVA_HOME </td>
								<td>location of Java installation</td>
								<td><div class="path"> /j9, /opt/java/jdk1.3.1, etc.</div></td>
								</tr>
							<tr class="alt">
								<td>JAVA</td>
								<td>Path to JVM command</td>
								<td>For MMC<div class="commands">$JAVA_HOME/bin/j9</div><br />For Sun JVM (e.g. linux, win32, mac OS) <div class="commands">$JAVA_HOME/bin/java</div>
									</td>
								</tr>
							<tr>
								<td>SIAM_HOME</td>
								<td>top of the SIAM directory tree</td>
								<td>-</td>
								</tr>
							<tr class="alt">
								<td>SIAM_CLASSPATH</td>
								<td>Path including all SIAM and supporting classes</td>
								<td>For MMC<div class="path">$JAVA_HOME/lib/jclMax/classes.zip:$JAVA_HOME/lib/prsnlmot.jar:$JAVA_HOME/lib/RXTXcomm.jar:$SIAM_HOME/classes</div><br />
									For linux/win32<div class="path"> $SIAM_HOME/classes</div></td>
								</tr>
							<!--
							 <tr>
							 <td></td>
							 <td></td>
							 <td>-</td>
							 </tr>
							 <tr class="alt">
							 <td></td>
							 <td></td>
							 <td>-</td>
							 </tr>
							 -->
							</table>
						<p></p>
						</div>
			</div>
		
		<div class="seeAlsoHeader">
			<h1>See Also</h1>
			<div class="seeAlsoText">
				<div class="command"><a href="man-filters.html#" target="mainFrame">filters</a></div>
				<div class="command"><a href="man-logView.html#" target="mainFrame">logView</a></div>
				<div class="command"><a href="man-logPublish.html#" target="mainFrame">logPublish</a></div>
				<div class="command"><a href="man-repubBatch.html#" target="mainFrame">repubBatch</a></div>
				</div>
			</div>
		
		
		</body>
	</html>
