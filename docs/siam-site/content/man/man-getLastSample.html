<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>getLastSample Manual Page</title>
<link href="../../css/content.css" rel="stylesheet" type="text/css" />
<link href="../../css/manpage.css" rel="stylesheet" type="text/css" />
</head>

<body>

<div class="nameHeader">
	<h1>Name</h1> 
 <div class="nameText">
	<h2>getLastSample <!-- name text here --></h2>
 </div>
</div>

<div class="synopsisHeader">
	<h1>Synopsis</h1>
 <div class="synopsisText">
				<div class="commands">getLastSample <em class="options">nodeURL portName [portName...]</em></div>
 </div>
</div>

<div class="descriptionHeader">
	<h1>Description</h1>
 <div class="descriptionText">
	<p>
	<!-- description text here -->
The getLastSample utility retrieves the most recent data sample from the instrument service on the specified port(s) of the specified SIAM node, 
without actually triggering acquisition of a new sample from the instrument itself. 
getLastSample then displays the resulting data sample. 	
</p>	 
	 <h2>Options</h2>
	 <table class="altTable">
		 <tr>
			 <th>Option</th>
			 <th>Description</th>
			 <th>Values</th>
			 </tr>
		 <tr>
			 <td>nodeURL</td>
			 <td>IP address or host name of SIAM node</td>
			 <td>e.g. 134.89.88.1, mooring.moos.mbari.org, localhost</td>
			 </tr>
		 <tr class="alt">
			 <td>portName</td>
			 <td>Name of instrument port (or alias) defined in siamPort.cfg</td>
			 <td>/dev/ttyS8, COM1, /dev/tty.KeySerial_1</td>
			 </tr>
		 <!--
		  <tr>
		  <td></td>
		  <td></td>
		  <td>-</td>
		  </tr>
		  <tr class="alt">
		  <td></td>
		  <td></td>
		  <td>-</td>
		  </tr>
		  -->
		 </table>
		 <p>
		Example output:</p>
		<pre>
samplePort foce.mars.mbari.org /dev/ttyS8
SIAM version $Name:  $
Elmo Thruster Controller:
parentID=1726, recordType=1
devid=1728, t=1285734310478, seqNo=1697773, mdref=1377345
nBytes=36
0,0,6004140,3000,-2,-1,1285734310479
		</pre>
		 <p>The data returned may also include parsed or processed data if the instrument service sampled has a built-in parser, for example:
         </p>
		 <pre>
name: motor1 string
encoderVelocity: 0 counts/sec
joggingVelocity: 0 counts/sec
statusRegister: 100680000 bit field (integer)
faultRegister: 12288 bit field (long)
turnSensorState: DISABLED state
turnSensorCount: -1 triggers
turnSensorTime: 1285734310479 ms
srString: 
Drive Read: ok
Drive Status: ok
Motor ON (MO): false
Reference Mode (RM): interpreter/user program
Motor Failure Latched: true
...
</pre>
	 </div>
</div>

<div class="environmentHeader">
			<h1>Environment</h1>
			<div class="environmentText">
				<p>The following environment variables must be set:</p>
				<table class="altTable">
					<tr>
						<th>Variable</th>
						<th>Description</th>
						<th>Example</th>
						</tr>
					<tr>
						<td>JAVA_HOME </td>
						<td>location of Java installation</td>
						<td><div class="path"> /j9, /opt/java/jdk1.3.1, etc.</div></td>
						</tr>
					<tr class="alt">
						<td>JAVA</td>
						<td>Path to JVM command</td>
						<td>For MMC<div class="commands">$JAVA_HOME/bin/j9</div><br />For Sun JVM (e.g. linux, win32, mac OS) <div class="commands">$JAVA_HOME/bin/java</div>
							</td>
						</tr>
					<tr>
						<td>SIAM_HOME</td>
						<td>top of the SIAM directory tree</td>
						<td>-</td>
						</tr>
					<tr class="alt">
						<td>SIAM_CLASSPATH</td>
						<td>Path including all SIAM and supporting classes</td>
						<td>For MMC<div class="path">$JAVA_HOME/lib/jclMax/classes.zip:$JAVA_HOME/lib/prsnlmot.jar:$JAVA_HOME/lib/RXTXcomm.jar:$SIAM_HOME/classes</div><br />
							For linux/win32<div class="path"> $SIAM_HOME/classes</div></td>
						</tr>
					<!--
					 <tr>
					 <td></td>
					 <td></td>
					 <td>-</td>
					 </tr>
					 <tr class="alt">
					 <td></td>
					 <td></td>
					 <td>-</td>
					 </tr>
					 -->
					</table>
				</div>
</div>

<div class="seeAlsoHeader">
	<h1>See Also</h1>
 <div class="seeAlsoText">
	<div class="command"><a href="man-listPorts.html">listPorts</a></div>
 </div>
</div>


</body>
</html>
